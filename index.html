<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NexaOS</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Star layer (generated by JS) -->
  <div id="stars" aria-hidden="true"></div>

  <!-- Mountain SVG background -->
  <svg id="mountain" viewBox="0 0 1600 400" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <linearGradient id="sky" x1="0" x2="0" y1="0" y2="1">
        <stop offset="0%" stop-color="#020617" />
        <stop offset="60%" stop-color="#05071a" />
        <stop offset="100%" stop-color="#000000" />
      </linearGradient>
    </defs>
    <rect x="0" y="0" width="1600" height="400" fill="url(#sky)" />
    <!-- moon -->
    <circle cx="1300" cy="80" r="34" fill="#f6f5e6" opacity="0.95" />
    <!-- mountain silhouette -->
    <path d="M0 330 L120 220 L250 300 L380 180 L540 300 L680 210 L820 290 L970 150 L1120 310 L1260 190 L1400 320 L1600 260 L1600 400 L0 400 Z" fill="#000000"/>
    <!-- subtle distant ridge -->
    <path d="M0 360 L90 290 L200 340 L330 260 L460 340 L600 280 L740 350 L900 240 L1040 340 L1180 270 L1320 350 L1600 300 L1600 400 L0 400 Z" fill="#06060a" opacity="0.6"/>
  </svg>

  <!-- Desktop UI -->
  <main id="desktop" role="application" aria-label="NexaOS desktop">
    <header id="topbar">
      <button id="start-button" aria-haspopup="true" aria-expanded="false" title="Start menu">
        <span class="start-logo">NexaOS</span>
      </button>
      <div id="topbar-center" aria-hidden="true"></div>
      <div id="topbar-right" aria-hidden="true">
        <div id="clock" aria-live="polite">--:--</div>
      </div>
    </header>

    <section id="icons" aria-label="Desktop icons">
      <button class="icon" data-app="terminal" title="Terminal">
        <div class="icon-glyph">_</div>
        <div class="icon-label">Terminal</div>
      </button>

      <button class="icon" data-app="files" title="Files">
        <div class="icon-glyph">‚ñ¢</div>
        <div class="icon-label">Files</div>
      </button>

      <button class="icon" data-app="browser" title="Browser">
        <div class="icon-glyph">üåê</div>
        <div class="icon-label">Browser</div>
      </button>
    </section>

    <!-- Dock -->
    <nav id="dock" aria-label="Dock">
      <button class="dock-item" data-app="terminal" title="Terminal">_</button>
      <button class="dock-item" data-app="files" title="Files">‚ñ¢</button>
      <button class="dock-item" data-app="browser" title="Browser">üåê</button>
    </nav>

    <!-- Start menu -->
    <aside id="start-menu" hidden role="menu" aria-label="Start menu">
      <div class="start-header">
        <div class="start-logo-large">NexaOS</div>
        <div class="start-sub">Night edition</div>
      </div>
      <ul class="start-list" role="none">
        <li role="none"><button role="menuitem" data-app="terminal">Terminal</button></li>
        <li role="none"><button role="menuitem" data-app="files">Files</button></li>
        <li role="none"><button role="menuitem" data-app="browser">Browser</button></li>
      </ul>
      <div class="start-footer">v0.1 ‚Äî demo</div>
    </aside>

    <!-- Terminal window -->
    <section class="window" id="terminal-window" role="dialog" aria-label="Terminal window" hidden>
      <div class="titlebar">
        <div class="title">Terminal ‚Äî NexaOS</div>
        <div class="controls">
          <button class="minimize" title="Minimize">‚Äî</button>
          <button class="close" title="Close">‚úï</button>
        </div>
      </div>
      <div class="window-body">
        <pre id="term-output" class="terminal" aria-live="polite"></pre>
        <div class="term-input">
          <span class="prompt">guest@NexaOS:~$</span>
          <input id="term-input-box" aria-label="Terminal input" placeholder="type 'help'"/>
        </div>
      </div>
    </section>

    <!-- Files window (simple placeholder) -->
    <section class="window" id="files-window" role="dialog" aria-label="Files window" hidden>
      <div class="titlebar">
        <div class="title">Files ‚Äî NexaOS</div>
        <div class="controls">
          <button class="minimize">‚Äî</button>
          <button class="close">‚úï</button>
        </div>
      </div>
      <div class="window-body">
        <div class="files-grid">
          <div class="file">README.md</div>
          <div class="file">notes.txt</div>
          <div class="file">photo.png</div>
        </div>
      </div>
    </section>

    <!-- Browser window -->
    <section class="window" id="browser-window" role="dialog" aria-label="Browser window" hidden>
      <div class="titlebar">
        <div class="title">Browser ‚Äî NexaOS</div>
        <div class="controls">
          <button class="minimize" title="Minimize">‚Äî</button>
          <button class="close" title="Close">‚úï</button>
        </div>
      </div>
      <div class="window-body">
        <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px;">
          <input id="browser-address" placeholder="http://example.com" style="flex:1;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;"/>
          <button id="browser-go" style="padding:8px 10px;border-radius:8px;border:none;background:rgba(79,195,247,0.12);color:var(--accent);cursor:pointer;">Go</button>
        </div>
        <div style="height:520px;background:linear-gradient(180deg,rgba(0,0,0,0.6),rgba(0,0,0,0.3));border-radius:8px;overflow:hidden;">
          <!-- The iframe loads the local proxy on port 8080 which acts as the browser backend -->
          <iframe id="browser-iframe" src="http://localhost:8080/" style="width:100%;height:100%;border:0;background:white;" title="NexaOS browser"></iframe>
        </div>
      </div>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
